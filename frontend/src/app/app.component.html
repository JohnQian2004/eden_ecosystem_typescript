<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <div class="col-md-3 sidebar">
      <app-sidebar></app-sidebar>
    </div>
    
    <!-- Main Content -->
    <div class="col-md-9">
      <div class="container-fluid py-3">
        <h1 class="mb-4">ðŸŒ³ Eden Simulator Dashboard</h1>
        
        <!-- iGas Display -->
        <div class="row mb-4">
          <div class="col-12">
            <app-igas-display></app-igas-display>
          </div>
        </div>
        
        <!-- User Input Forms -->
        <div class="row mb-4">
          <div class="col-md-6 mb-3 mb-md-0">
            <div class="card">
              <div class="card-header bg-primary text-white">
                <h5 class="mb-0">ðŸ’¬ Movie Chat Input</h5>
              </div>
              <div class="card-body">
                <form (ngSubmit)="onSubmit(); $event.preventDefault()" #chatForm="ngForm">
                  <div class="input-group">
                    <input 
                      type="text" 
                      class="form-control" 
                      placeholder="Enter your query (e.g., 'I want a sci-fi movie to watch tonight at the best price')"
                      [(ngModel)]="userInput"
                      name="userInput"
                      required
                      [disabled]="isProcessing"
                      (keydown.enter)="!isProcessing && userInput.trim() && onSubmit(); $event.preventDefault()">
                    <button 
                      class="btn btn-primary" 
                      type="submit"
                      [disabled]="isProcessing || !userInput?.trim()">
                      <span *ngIf="!isProcessing">Send</span>
                      <span *ngIf="isProcessing">
                        <span class="spinner-border spinner-border-sm me-2"></span>Processing...
                      </span>
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card">
              <div class="card-header bg-info text-white">
                <h5 class="mb-0">ðŸ”· Token Indexer Chat Input</h5>
              </div>
              <div class="card-body">
                <form (ngSubmit)="onTokenSubmit(); $event.preventDefault()" #tokenForm="ngForm">
                  <div class="input-group">
                    <input 
                      type="text" 
                      class="form-control" 
                      placeholder="Enter your DEX query (e.g., 'I want to BUY 2 SOLANA token A at 1 Token/SOL or with best price')"
                      [(ngModel)]="tokenInput"
                      name="tokenInput"
                      required
                      [disabled]="isProcessingToken"
                      (keydown.enter)="!isProcessingToken && tokenInput.trim() && onTokenSubmit(); $event.preventDefault()">
                    <button 
                      class="btn btn-info" 
                      type="submit"
                      [disabled]="isProcessingToken || !tokenInput?.trim()">
                      <span *ngIf="!isProcessingToken">Send</span>
                      <span *ngIf="isProcessingToken">
                        <span class="spinner-border spinner-border-sm me-2"></span>Processing...
                      </span>
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Ledger Display -->
        <div class="row mb-4">
          <div class="col-12">
            <app-ledger-display></app-ledger-display>
          </div>
        </div>
        
        <!-- Certificate Display -->
        <div class="row mb-4">
          <div class="col-12">
            <app-certificate-display></app-certificate-display>
          </div>
        </div>
        
        <!-- Chat Box -->
        <div class="row">
          <div class="col-12">
            <app-chat-box></app-chat-box>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

