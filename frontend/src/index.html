<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Eden - Garden-First Intelligence Marketplace</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: http: https:; media-src 'self' http: https:; connect-src 'self' ws: wss: http: https: https://accounts.google.com https://maps.googleapis.com; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://accounts.google.com https://maps.googleapis.com; style-src 'self' 'unsafe-inline' https://accounts.google.com;">
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script>
    // Load Google Maps API with callback
    function loadGoogleMaps() {
      const script = document.createElement('script');
      script.src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyDN6xQVarIS9OE51RnrEYnyBXG9tVhY5h4&loading=async';
      script.async = true;
      script.defer = true;
      script.onload = function() {
        console.log('✅ [Global] Google Maps API script loaded');
        window.googleMapsScriptLoaded = true;
        window.dispatchEvent(new Event('googlemapsloaded'));
      };
      script.onerror = function() {
        console.error('❌ [Global] Google Maps API script failed to load');
        window.googleMapsError = true;
      };
      document.head.appendChild(script);
    }
    
    // Load when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadGoogleMaps);
    } else {
      loadGoogleMaps();
    }
    
    // Global error handler for Google Maps API
    window.addEventListener('error', function(e) {
      if (e.filename && e.filename.includes('maps.googleapis.com')) {
        console.error('❌ [Global] Google Maps API script error:', e.message);
        window.googleMapsError = true;
      }
    }, true);
  </script>
</head>
<body class="bg-body text-body">
  <app-home></app-home>
  <script>
    // Suppress browser extension errors
    window.addEventListener('error', function(e) {
      if (e.message && (e.message.includes('solana') || e.message.includes('Solana') || e.filename && e.filename.includes('solana'))) {
        e.preventDefault();
        return false;
      }
    }, true);
  </script>
</body>
</html>

