{
  "version": 3,
  "sources": ["../../src/identity.ts"],
  "sourcesContent": ["/**\r\n * Eden Identity System\r\n * \r\n * Layered identity model:\r\n * 1. Google User (Authentication Only)\r\n * 2. Eden User (Global Identity)\r\n * 3. Garden Identity (Contextual Identity)\r\n * 4. Display Identity (What Others See)\r\n */\r\n\r\nimport * as crypto from 'crypto';\r\n\r\n/**\r\n * Eden User (Global Identity)\r\n */\r\nexport interface EdenUser {\r\n  userId: string;            // UUID\r\n  googleUserId: string;      // OAuth sub\r\n  primaryEmail: string;\r\n  createdAt: number;\r\n\r\n  globalUsername: string;    // unique across Eden, immutable\r\n  globalNickname?: string;  // optional, changeable\r\n\r\n  status: 'ACTIVE' | 'SUSPENDED';\r\n}\r\n\r\n/**\r\n * Garden User (Contextual Identity)\r\n */\r\nexport interface GardenUser {\r\n  gardenId: string;\r\n  userId: string;\r\n\r\n  gardenUsername: string;      // unique within Garden\r\n  gardenNickname?: string;    // display name, optional\r\n  role: 'USER' | 'PRIEST' | 'OWNER';\r\n\r\n  joinedAt: number;\r\n}\r\n\r\n// In-memory storage (in production, use Redis/database)\r\nconst EDEN_USERS: Map<string, EdenUser> = new Map(); // userId -> EdenUser\r\nconst EDEN_USERS_BY_GOOGLE_ID: Map<string, string> = new Map(); // googleUserId -> userId\r\nconst EDEN_USERS_BY_USERNAME: Map<string, string> = new Map(); // globalUsername -> userId\r\nconst GARDEN_USERS: Map<string, GardenUser> = new Map(); // `${gardenId}:${userId}` -> GardenUser\r\nconst GARDEN_USERNAMES: Map<string, Set<string>> = new Map(); // gardenId -> Set<gardenUsername>\r\n\r\n/**\r\n * Initialize identity system\r\n */\r\nexport function initializeIdentity(): void {\r\n  console.log('\uD83C\uDFAD [Identity] Initializing identity system...');\r\n  // Load from persistence if available\r\n  loadIdentityPersistence();\r\n  console.log(`\u2705 [Identity] Identity system initialized. Users: ${EDEN_USERS.size}, Garden users: ${GARDEN_USERS.size}`);\r\n}\r\n\r\n/**\r\n * Create new Eden user\r\n */\r\nexport function createEdenUser(\r\n  googleUserId: string,\r\n  email: string,\r\n  globalUsername: string,\r\n  globalNickname?: string\r\n): EdenUser {\r\n  // Validate username\r\n  const validation = validateUsername(globalUsername);\r\n  if (!validation.valid) {\r\n    throw new Error(validation.error || 'Invalid username');\r\n  }\r\n\r\n  // Check if username is taken\r\n  if (EDEN_USERS_BY_USERNAME.has(globalUsername.toLowerCase())) {\r\n    throw new Error('Username is already taken');\r\n  }\r\n\r\n  // Check if Google user already exists\r\n  if (EDEN_USERS_BY_GOOGLE_ID.has(googleUserId)) {\r\n    throw new Error('User already exists for this Google account');\r\n  }\r\n\r\n  const userId = crypto.randomUUID();\r\n  const user: EdenUser = {\r\n    userId,\r\n    googleUserId,\r\n    primaryEmail: email,\r\n    createdAt: Date.now(),\r\n    globalUsername,\r\n    globalNickname,\r\n    status: 'ACTIVE'\r\n  };\r\n\r\n  EDEN_USERS.set(userId, user);\r\n  EDEN_USERS_BY_GOOGLE_ID.set(googleUserId, userId);\r\n  EDEN_USERS_BY_USERNAME.set(globalUsername.toLowerCase(), userId);\r\n\r\n  saveIdentityPersistence();\r\n  console.log(`\u2705 [Identity] Created Eden user: ${globalUsername} (${userId})`);\r\n\r\n  return user;\r\n}\r\n\r\n/**\r\n * Get Eden user by userId\r\n */\r\nexport function getEdenUser(userId: string): EdenUser | null {\r\n  return EDEN_USERS.get(userId) || null;\r\n}\r\n\r\n/**\r\n * Get Eden user by Google userId\r\n */\r\nexport function getEdenUserByGoogleId(googleUserId: string): EdenUser | null {\r\n  const userId = EDEN_USERS_BY_GOOGLE_ID.get(googleUserId);\r\n  if (!userId) return null;\r\n  return EDEN_USERS.get(userId) || null;\r\n}\r\n\r\n/**\r\n * Get Eden user by username\r\n */\r\nexport function getEdenUserByUsername(username: string): EdenUser | null {\r\n  const userId = EDEN_USERS_BY_USERNAME.get(username.toLowerCase());\r\n  if (!userId) return null;\r\n  return EDEN_USERS.get(userId) || null;\r\n}\r\n\r\n/**\r\n * Get Eden user by email\r\n */\r\nexport function getEdenUserByEmail(email: string): EdenUser | null {\r\n  // Search through all users to find matching email\r\n  for (const user of EDEN_USERS.values()) {\r\n    if (user.primaryEmail.toLowerCase() === email.toLowerCase()) {\r\n      return user;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * Check if username is available\r\n */\r\nexport function isUsernameAvailable(username: string): boolean {\r\n  const validation = validateUsername(username);\r\n  if (!validation.valid) {\r\n    return false;\r\n  }\r\n  return !EDEN_USERS_BY_USERNAME.has(username.toLowerCase());\r\n}\r\n\r\n/**\r\n * Validate username format\r\n */\r\nexport function validateUsername(username: string): { valid: boolean; error?: string } {\r\n  if (!username || username.length < 3) {\r\n    return { valid: false, error: 'Username must be at least 3 characters' };\r\n  }\r\n  if (username.length > 30) {\r\n    return { valid: false, error: 'Username must be 30 characters or less' };\r\n  }\r\n  // ASCII-safe, alphanumeric + underscore + hyphen\r\n  if (!/^[a-zA-Z0-9_-]+$/.test(username)) {\r\n    return { valid: false, error: 'Username can only contain letters, numbers, underscores, and hyphens' };\r\n  }\r\n  // Cannot start with number\r\n  if (/^[0-9]/.test(username)) {\r\n    return { valid: false, error: 'Username cannot start with a number' };\r\n  }\r\n  return { valid: true };\r\n}\r\n\r\n/**\r\n * Join Garden with optional username/nickname\r\n */\r\nexport function joinGarden(\r\n  userId: string,\r\n  gardenId: string,\r\n  gardenUsername?: string,\r\n  gardenNickname?: string\r\n): GardenUser {\r\n  const user = getEdenUser(userId);\r\n  if (!user) {\r\n    throw new Error('User not found');\r\n  }\r\n\r\n  // Use globalUsername if gardenUsername not provided\r\n  const finalGardenUsername = gardenUsername || user.globalUsername;\r\n\r\n  // Check if gardenUsername is available in this garden\r\n  const gardenUsernames = GARDEN_USERNAMES.get(gardenId) || new Set();\r\n  if (gardenUsernames.has(finalGardenUsername.toLowerCase())) {\r\n    // Collision - add suffix\r\n    let counter = 2;\r\n    let candidate = `${finalGardenUsername}_${counter}`;\r\n    while (gardenUsernames.has(candidate.toLowerCase())) {\r\n      counter++;\r\n      candidate = `${finalGardenUsername}_${counter}`;\r\n    }\r\n    throw new Error(`Username \"${finalGardenUsername}\" is taken in this garden. Suggested: \"${candidate}\"`);\r\n  }\r\n\r\n  const cacheKey = `${gardenId}:${userId}`;\r\n  const existingGardenUser = GARDEN_USERS.get(cacheKey);\r\n  \r\n  if (existingGardenUser) {\r\n    // Update existing garden user\r\n    existingGardenUser.gardenUsername = finalGardenUsername;\r\n    if (gardenNickname !== undefined) {\r\n      existingGardenUser.gardenNickname = gardenNickname;\r\n    }\r\n    saveIdentityPersistence();\r\n    return existingGardenUser;\r\n  }\r\n\r\n  // Create new garden user\r\n  const gardenUser: GardenUser = {\r\n    gardenId,\r\n    userId,\r\n    gardenUsername: finalGardenUsername,\r\n    gardenNickname,\r\n    role: 'USER', // Default role\r\n    joinedAt: Date.now()\r\n  };\r\n\r\n  GARDEN_USERS.set(cacheKey, gardenUser);\r\n  gardenUsernames.add(finalGardenUsername.toLowerCase());\r\n  GARDEN_USERNAMES.set(gardenId, gardenUsernames);\r\n\r\n  saveIdentityPersistence();\r\n  console.log(`\u2705 [Identity] User ${user.globalUsername} joined garden ${gardenId} as ${finalGardenUsername}`);\r\n\r\n  return gardenUser;\r\n}\r\n\r\n/**\r\n * Get Garden user\r\n */\r\nexport function getGardenUser(userId: string, gardenId: string): GardenUser | null {\r\n  const cacheKey = `${gardenId}:${userId}`;\r\n  return GARDEN_USERS.get(cacheKey) || null;\r\n}\r\n\r\n/**\r\n * Update garden nickname\r\n */\r\nexport function updateGardenNickname(\r\n  userId: string,\r\n  gardenId: string,\r\n  nickname: string\r\n): GardenUser {\r\n  const cacheKey = `${gardenId}:${userId}`;\r\n  const gardenUser = GARDEN_USERS.get(cacheKey);\r\n  \r\n  if (!gardenUser) {\r\n    throw new Error('Garden user not found');\r\n  }\r\n\r\n  // Validate nickname\r\n  if (nickname.length > 50) {\r\n    throw new Error('Nickname must be 50 characters or less');\r\n  }\r\n\r\n  gardenUser.gardenNickname = nickname;\r\n  saveIdentityPersistence();\r\n\r\n  return gardenUser;\r\n}\r\n\r\n/**\r\n * Resolve display name (identity resolution order)\r\n */\r\nexport function resolveDisplayName(\r\n  userId: string,\r\n  gardenId?: string\r\n): { displayName: string; username: string; nickname?: string; source: string } {\r\n  const user = getEdenUser(userId);\r\n  if (!user) {\r\n    return {\r\n      displayName: `user_${userId.substring(0, 8)}`,\r\n      username: `user_${userId.substring(0, 8)}`,\r\n      source: 'fallback'\r\n    };\r\n  }\r\n\r\n  // If gardenId provided, check garden user first\r\n  if (gardenId) {\r\n    const gardenUser = getGardenUser(userId, gardenId);\r\n    if (gardenUser) {\r\n      // Priority 1: Garden nickname\r\n      if (gardenUser.gardenNickname) {\r\n        return {\r\n          displayName: gardenUser.gardenNickname,\r\n          username: gardenUser.gardenUsername,\r\n          nickname: gardenUser.gardenNickname,\r\n          source: 'gardenNickname'\r\n        };\r\n      }\r\n      // Priority 2: Garden username\r\n      return {\r\n        displayName: gardenUser.gardenUsername,\r\n        username: gardenUser.gardenUsername,\r\n        source: 'gardenUsername'\r\n      };\r\n    }\r\n  }\r\n\r\n  // Priority 3: Global nickname\r\n  if (user.globalNickname) {\r\n    return {\r\n      displayName: user.globalNickname,\r\n      username: user.globalUsername,\r\n      nickname: user.globalNickname,\r\n      source: 'globalNickname'\r\n    };\r\n  }\r\n\r\n  // Priority 4: Global username\r\n  return {\r\n    displayName: user.globalUsername,\r\n    username: user.globalUsername,\r\n    source: 'globalUsername'\r\n  };\r\n}\r\n\r\n/**\r\n * Load identity persistence\r\n */\r\nfunction loadIdentityPersistence(): void {\r\n  try {\r\n    const persistencePath = path.join(__dirname, '../eden-identity-persistence.json');\r\n    if (fs.existsSync(persistencePath)) {\r\n      const data = JSON.parse(fs.readFileSync(persistencePath, 'utf-8'));\r\n      \r\n      // Load Eden users\r\n      if (data.edenUsers) {\r\n        for (const user of data.edenUsers) {\r\n          EDEN_USERS.set(user.userId, user);\r\n          EDEN_USERS_BY_GOOGLE_ID.set(user.googleUserId, user.userId);\r\n          EDEN_USERS_BY_USERNAME.set(user.globalUsername.toLowerCase(), user.userId);\r\n        }\r\n      }\r\n\r\n      // Load Garden users\r\n      if (data.gardenUsers) {\r\n        for (const gardenUser of data.gardenUsers) {\r\n          const cacheKey = `${gardenUser.gardenId}:${gardenUser.userId}`;\r\n          GARDEN_USERS.set(cacheKey, gardenUser);\r\n          \r\n          const gardenUsernames = GARDEN_USERNAMES.get(gardenUser.gardenId) || new Set();\r\n          gardenUsernames.add(gardenUser.gardenUsername.toLowerCase());\r\n          GARDEN_USERNAMES.set(gardenUser.gardenId, gardenUsernames);\r\n        }\r\n      }\r\n\r\n      console.log(`\uD83D\uDCE6 [Identity] Loaded ${EDEN_USERS.size} Eden users and ${GARDEN_USERS.size} Garden users from persistence`);\r\n    }\r\n  } catch (error) {\r\n    console.error('\u274C [Identity] Failed to load identity persistence:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Save identity persistence\r\n */\r\nfunction saveIdentityPersistence(): void {\r\n  try {\r\n    const persistencePath = path.join(__dirname, '../eden-identity-persistence.json');\r\n    const data = {\r\n      edenUsers: Array.from(EDEN_USERS.values()),\r\n      gardenUsers: Array.from(GARDEN_USERS.values()),\r\n      savedAt: Date.now()\r\n    };\r\n    fs.writeFileSync(persistencePath, JSON.stringify(data, null, 2));\r\n  } catch (error) {\r\n    console.error('\u274C [Identity] Failed to save identity persistence:', error);\r\n  }\r\n}\r\n\r\n// Import fs and path\r\nimport * as fs from 'fs';\r\nimport * as path from 'path';\r\n\r\n"],
  "mappings": "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",
  "names": []
}
